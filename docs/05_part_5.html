<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<!-- Based on TemplateMo 553 Xtra Blog: https://templatemo.com/tm-553-xtra-blog -->

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="6 Exercise 5: Workflow Optimization and Data Entry Forms | Building an Enterprise GIS Workflow with QGIS and PostGIS" />
<meta property="og:type" content="book" />





<meta name="author" content="Gispo Ltd." />

<meta name="date" content="2023-10-20" />


<meta name="description" content="6 Exercise 5: Workflow Optimization and Data Entry Forms | Building an Enterprise GIS Workflow with QGIS and PostGIS">

<title>6 Exercise 5: Workflow Optimization and Data Entry Forms | Building an Enterprise GIS Workflow with QGIS and PostGIS</title>

<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="custom.css" type="text/css" />

<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/hamburgers.css" rel="stylesheet">

</head>

<body>


<div class="main-content">
<!-- special comment to mark beginning of title section for bookdown -->
<!-- bookdown comments must be in this order: title, toc, body -->

<div class="main-content-wrapper">

<div class="row">
<div class="col-sm-12">
<header class="main-toc sidebar" id="sidebar">
<div class="sidebar-wrapper">

<button class="navbar-toggle hamburger hamburger--collapse" id="navbar-toggle"
type="button" onclick="navToggle()" aria-label="Toggle navigation">
<span class="hamburger-box"><span class="hamburger-inner"></span></span>
</button>

<div class="sidebar-title-wrapper">
<img alt="Logo" width="100" src="img/gispo_white_sm.png" class="sidebar-logo">
<div class="sidebar-title"><h1>Building an Enterprise GIS Workflow with QGIS and PostGIS</h1></div>
<div class="abstract-sidebar"><p>Workshop delivered in FOSS4G-NA Baltimore 2023.</p></div>
</div>

<nav class="sidebar-nav">
<div id="TOC" class="toc">
<ul>
<li><a href="index.html#introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li><a href="01_part_1.html#exercise-1-database-creation-and-integration"><span class="toc-section-number">2</span> Exercise 1: Database Creation and Integration</a>
<ul>
<li><a href="01_part_1.html#installation-and-configuration-qgis"><span class="toc-section-number">2.0.1</span> Installation and Configuration: QGIS</a></li>
<li><a href="01_part_1.html#installation-and-configuration-postgresql"><span class="toc-section-number">2.0.2</span> Installation and Configuration: PostgreSQL</a></li>
<li><a href="01_part_1.html#integrating-the-database-with-qgis"><span class="toc-section-number">2.0.3</span> Integrating the Database with QGIS</a></li>
<li><a href="01_part_1.html#creating-the-database-specifically-for-the-refuge-camp"><span class="toc-section-number">2.0.4</span> Creating the Database specifically for the Refuge Camp</a></li>
</ul></li>
<li><a href="02_part_2.html#exercise-2-data-structure-design-and-creation"><span class="toc-section-number">3</span> Exercise 2 Data Structure Design and Creation</a>
<ul>
<li><a href="02_part_2.html#analyzing-requirements-and-designing-the-data-schema"><span class="toc-section-number">3.1</span> Analyzing Requirements and Designing the Data Schema</a></li>
<li><a href="02_part_2.html#creating-the-necessary-tables"><span class="toc-section-number">3.2</span> Creating the Necessary Tables</a></li>
</ul></li>
<li><a href="03_part_3.html#exercise-3-creating-and-editing-data-in-qgis"><span class="toc-section-number">4</span> Exercise 3: Creating and Editing Data in QGIS</a>
<ul>
<li><a href="03_part_3.html#loading-some-aerial-imagery-for-context-in-qgis"><span class="toc-section-number">4.1</span> Loading some aerial imagery for context in QGIS</a></li>
<li><a href="03_part_3.html#loading-the-data-and-creating-new-features"><span class="toc-section-number">4.2</span> Loading the Data and Creating New Features</a></li>
<li><a href="03_part_3.html#editing-existing-features"><span class="toc-section-number">4.3</span> Editing Existing Features</a></li>
<li><a href="03_part_3.html#deleting-unnecessary-features"><span class="toc-section-number">4.4</span> Deleting Unnecessary Features</a></li>
</ul></li>
<li><a href="04_part_4.html#exercise-4-creating-lookup-tables-and-utilizing-lookup-values"><span class="toc-section-number">5</span> Exercise 4: Creating Lookup Tables and Utilizing Lookup Values</a>
<ul>
<li><a href="04_part_4.html#identifying-attributes-requiring-predefined-values"><span class="toc-section-number">5.1</span> Identifying Attributes Requiring Predefined Values</a></li>
<li><a href="04_part_4.html#creating-lookupenumeration-tables"><span class="toc-section-number">5.2</span> Creating Lookup/Enumeration Tables</a></li>
<li><a href="04_part_4.html#establishing-relationships-with-the-main-data-table"><span class="toc-section-number">5.3</span> Establishing Relationships with the Main Data Table</a></li>
<li><a href="04_part_4.html#populating-the-enumeration-table"><span class="toc-section-number">5.4</span> Populating the Enumeration Table</a></li>
<li><a href="04_part_4.html#using-the-enumeration-table-in-qgis"><span class="toc-section-number">5.5</span> Using the Enumeration Table in QGIS</a></li>
<li><a href="04_part_4.html#understanding-and-visualizing-the-relations-between-the-database-tables"><span class="toc-section-number">5.6</span> Understanding and visualizing the relations between the database tables</a></li>
</ul></li>
<li><a href="05_part_5.html#exercise-5-workflow-optimization-and-data-entry-forms"><span class="toc-section-number">6</span> Exercise 5: Workflow Optimization and Data Entry Forms</a>
<ul>
<li><a href="05_part_5.html#designing-a-data-entry-form"><span class="toc-section-number">6.1</span> Designing a Data Entry Form</a></li>
<li><a href="05_part_5.html#discovering-table-relations-in-qgis-before-setting-up-the-forms"><span class="toc-section-number">6.2</span> Discovering table relations in QGIS before setting up the forms</a></li>
<li><a href="05_part_5.html#enabling-and-configuring-form-widgets"><span class="toc-section-number">6.3</span> Enabling and Configuring Form Widgets</a></li>
<li><a href="05_part_5.html#going-beyond-the-basics"><span class="toc-section-number">6.4</span> Going beyond the basics</a></li>
</ul></li>
<li><a href="06_part_6.html#exercise-6-advanced-topics"><span class="toc-section-number">7</span> Exercise 6: Advanced Topics</a>
<ul>
<li><a href="06_part_6.html#creating-triggers-for-data-entry-automation"><span class="toc-section-number">7.1</span> Creating Triggers for Data Entry Automation</a></li>
<li><a href="06_part_6.html#creating-some-sample-data"><span class="toc-section-number">7.2</span> Creating some sample data</a></li>
</ul></li>
<li><a href="07_part_7.html#final-words"><span class="toc-section-number">8</span> Final Words</a>
<ul>
<li><a href="07_part_7.html#key-takeaways"><span class="toc-section-number">8.1</span> Key Takeaways:</a></li>
<li><a href="07_part_7.html#next-steps"><span class="toc-section-number">8.2</span> Next Steps:</a></li>
<li><a href="07_part_7.html#feedback"><span class="toc-section-number">8.3</span> Feedback:</a></li>
<li><a href="07_part_7.html#further-contact-and-services"><span class="toc-section-number">8.4</span> Further Contact and Services:</a>
<ul>
<li><a href="07_part_7.html#how-we-serve-you"><span class="toc-section-number">8.4.1</span> How We Serve You:</a></li>
</ul></li>
</ul></li>
</ul>
</div>
</nav>
</div>
</header>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="exercise-5-workflow-optimization-and-data-entry-forms" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Exercise 5: Workflow Optimization and Data Entry Forms</h1>
<p>Next, we will customize the data entry form in QGIS to facilitate efficient data creation, enabling seamless workflows for both individual work and organization-wide processes.</p>
<div id="designing-a-data-entry-form" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Designing a Data Entry Form</h2>
<p>QGIS forms are a powerful tool that allows you to create customized data entry interfaces within QGIS. These forms provide a user-friendly way to input and edit attribute data, making it easier to capture and manage information effectively.</p>
<p>As an example, QGIS forms can look something like below:</p>
<p><img src="img/p1/qgis_form_example.png" /></p>
</div>
<div id="discovering-table-relations-in-qgis-before-setting-up-the-forms" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Discovering table relations in QGIS before setting up the forms</h2>
<p>Our goal is to set up a QGIS form, similar to the example shown above. To begin, we need to bring the lookup tables into QGIS. Additionally, since the main tables have been modified, we should reopen them in QGIS. Remember, removing the data from the map window does not erase it from the database. Simply select all six tables and drag &amp; drop or double-click to add them to QGIS.</p>
<p><img src="img/p1/add_rel_tables.png" /></p>
<p>Next, open the project properties and navigate to the “Relations” section in the side panel.</p>
<p><img src="img/p1/dis_rel.png" /></p>
<ol style="list-style-type: decimal">
<li><p>Select the “Discover Relations” option,</p></li>
<li><p>which should display three rows of information representing the relationships between the tables you have created. Choose them all (with CTRL e.g.)</p></li>
<li><p>Press Ok</p>
<p><img src="img/p1/discover_relations.png" /></p></li>
</ol>
</div>
<div id="enabling-and-configuring-form-widgets" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Enabling and Configuring Form Widgets</h2>
<p>To enable forms to appear as popup windows, follow these steps:</p>
<ul>
<li><p>Select the Identify tool (1) in QGIS. This tool allows you to click on a feature and view a small popup window displaying attribute values related to that specific feature (2).</p></li>
<li><p>To further streamline the process, you can configure QGIS to use the Identify tool for all layers instead of manually selecting a specific layer each time (3).</p></li>
</ul>
<p><img src="img/p1/identify_tool_setting_up.png" /></p>
<p>Then we will can click one of the features and a pop-up window should come up:</p>
<p><img src="img/p1/form.png" /></p>
<p>We can tailor the form by opening each layer’s properties and choosing “Attributes Form”:</p>
<p><img src="img/p1/prop_attributes_form.png" /></p>
<p>Using the “Autogenerate” option provides a quick solution, but for more customization, you can opt for the “Drag and Drop Designer” to tailor the form according to your specific requirements. This allows you to have more control over the design and layout of the form.</p>
<p>You can for example remove the id-column from the form so that the user does not see it.</p>
<p><img src="img/p1/form_remove.png" /></p>
<p>Then we’ll get to the good part, where you can see how QGIS already used the relations between the main table and the lookup tables:</p>
<p><img src="img/p1/forms_relations.png" /></p>
<ol style="list-style-type: decimal">
<li><p>After choosing/activating the attribute of interest (in the upper right corner), see how QGIS has setup the “Relation Reference” widget type which refers the capability of the usage of the relation in-between the tables.</p></li>
<li><p>QGIS understands that you want to display the “status” text from the lookup table</p></li>
<li><p>It refers to the relation you setup earlier.</p></li>
</ol>
</div>
<div id="going-beyond-the-basics" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Going beyond the basics</h2>
<p>There are many widgets in QGIS, like a checkbox for boolean data types, a calendar view for dates and so on. You can explore the list and try to add data types to your main tables and see how the widgets work.</p>
<p>If this seems to much, try the tabs for understanding how you could guide your users to create data.</p>
<p>For example you can setup some tabs in the form:</p>
<p><img src="img/p1/form_add_tabs.png" /></p>
<p>Here, we are adding a third Tab (in addition to “Main info” and “Other info”).</p>

</div>
</div>
<p style="text-align: center;">
<a href="04_part_4.html"><button class="btn btn-default">Previous</button></a>
<a href="06_part_6.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>

<footer class="footer text-center">

<div class="footer-container text-center">

<div class="footer-info">
<h5 class="footer-title">Building an Enterprise GIS Workflow with QGIS and PostGIS</h5>
<span class="footer-version">v2023-10-20</span>
<div class="license"><img src="img/by-nd.svg" width="80px" alt="CC-BY-ND"></div>
</div>

<div class="footer-info">
<h5 class="footer-title footer-company">Gispo Ltd.
<span class="footer-copyright-year">© 2023</span></h5>
<span class="footer-contact-info">Kumpulantie 3, 3 krs
<br>00520 Helsinki, Finland
<br>info@gispo.fi
</span>
</div>

</div>
</div>
</footer>
</div>


<script src="js/nav-script.js"></script>
<script src="js/answer-key.js"></script>
<script src="js/find_keys.js"></script>

</body>
</html>
